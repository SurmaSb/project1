pipeline {
    agent any

    environment {
        CI = 'true'
    }

    
           
           stages {
                stage('Build') {
                    steps {
                        dir('react\\my-app') {
                            echo 'Start building process...'
                            bat 'npm install'
                        }
                    }
                }
                stage('Test') {
                    steps {
                        echo 'Testing.. //TODO run automation tests...'
                    }
                }
                stage('Deploy') {
                     steps {
                        echo 'Deployment steps.. //TODO copy build file to target folder...'
                    }
                }
            }

            post { 
                success {  
                    dir('react\\my-app') {
                            bat 'npm start'
                        }
                }
            }
        }
   

